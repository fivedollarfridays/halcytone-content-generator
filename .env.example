# Halcytone Content Generator - Environment Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env files with real credentials!
#
# SECURITY WARNING: Revoke all API keys immediately after exposure
# - Google Docs: Generate new key at https://console.cloud.google.com/apis/credentials
# - Notion: Generate token at https://www.notion.so/my-integrations

# Service Configuration
SERVICE_NAME=content-generator
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# API Configuration
API_KEY=your-content-generator-api-key-here
API_PREFIX=/api/v1

# External Services
CRM_BASE_URL=http://localhost:8001
CRM_API_KEY=your-crm-api-key-here
PLATFORM_BASE_URL=http://localhost:8000
PLATFORM_API_KEY=your-platform-api-key-here

# Content Source Configuration
# Options: google_docs, notion, internal
LIVING_DOC_TYPE=google_docs
LIVING_DOC_ID=your-google-doc-id-here
# For Google Docs (JSON string of service account credentials)
GOOGLE_CREDENTIALS_JSON={"type": "service_account", "project_id": "...", "private_key": "..."}
# For Notion
NOTION_API_KEY=
NOTION_DATABASE_ID=

# Optional AI Services
OPENAI_API_KEY=
OPENAI_MODEL=gpt-3.5-turbo

# Email Configuration
EMAIL_BATCH_SIZE=100
EMAIL_RATE_LIMIT=10

# Content Generation Settings
NEWSLETTER_TEMPLATE=default
WEB_UPDATE_TEMPLATE=default
SOCIAL_PLATFORMS=["twitter", "linkedin"]

# Monitoring & Observability
CORRELATION_ID_HEADER=X-Correlation-ID
ENABLE_METRICS=true
METRICS_PORT=9090

# Circuit Breaker Settings
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_EXPECTED_EXCEPTION=httpx.RequestError

# Retry Settings
MAX_RETRIES=3
RETRY_BACKOFF_BASE=2.0
RETRY_MAX_WAIT=60

# Cache Settings
CACHE_TTL=300
ENABLE_CACHE=true

# Test Mode
TEST_MODE=false

# AI Services Configuration
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=1500
AI_ENABLE_ENHANCEMENT=true
AI_ENABLE_QUALITY_SCORING=true
AI_ENABLE_PERSONALIZATION=true
AI_ENABLE_AB_TESTING=false
AI_DEFAULT_VARIATIONS=3

# Dry Run Settings - ENABLE FOR SAFE TESTING
DRY_RUN_MODE=true
USE_MOCK_SERVICES=true
DRY_RUN=false
BATCH_DRY_RUN=false

# Batch Processing Settings
BATCH_MAX_ITEMS=50
BATCH_MAX_DAYS=30
BATCH_DEFAULT_PERIOD=week
BATCH_ENABLE_SCHEDULING=true

# User Segmentation Settings
USER_SEGMENTS_ENABLED=true
DEFAULT_SEGMENT=general
SEGMENT_PERSONALIZATION=true

# =================
# SPRINT 4: ECOSYSTEM INTEGRATION
# =================

# Tone Management Settings
TONE_SYSTEM_ENABLED=true
DEFAULT_TONE=encouraging
TONE_AUTO_SELECTION=true
TONE_VALIDATION_ENABLED=true
TONE_FALLBACK_ENABLED=true

# Per-channel tone preferences
TONE_EMAIL_DEFAULT=encouraging
TONE_WEB_DEFAULT=professional
TONE_SOCIAL_DEFAULT=encouraging
TONE_BLOG_DEFAULT=professional
TONE_RESEARCH_DEFAULT=medical_scientific

# Brand consistency settings
BRAND_VALIDATION_ENABLED=true
BRAND_VALIDATION_STRICT=false
BRAND_VALIDATION_SCORE_THRESHOLD=0.7

# Cache Invalidation Settings
CACHE_INVALIDATION_ENABLED=true
CACHE_INVALIDATION_API_KEYS=["api_key_1", "api_key_2"]
CACHE_WEBHOOK_SECRET=your-webhook-secret-here

# CDN Configuration
CDN_ENABLED=false
CDN_TYPE=cloudflare
CDN_API_KEY=your-cloudflare-api-key-here
CDN_ZONE_ID=your-cloudflare-zone-id-here
CDN_BASE_URL=https://api.cloudflare.com/client/v4

# Cache Targets Configuration
CACHE_LOCAL_ENABLED=true
CACHE_API_ENABLED=true
CACHE_REDIS_ENABLED=false
CACHE_REDIS_URL=redis://localhost:6379

# Cache Management Settings
CACHE_MAX_HISTORY=1000
CACHE_DEFAULT_TTL=3600
CACHE_WEBHOOK_TIMEOUT=10

# Auto-invalidation triggers
CACHE_AUTO_INVALIDATE_ON_CONTENT_UPDATE=true
CACHE_AUTO_INVALIDATE_ON_DEPLOYMENT=true
CACHE_AUTO_INVALIDATE_PATTERNS=["api/*", "content/*", "assets/*"]